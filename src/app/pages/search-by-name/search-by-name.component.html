<!-- Search Header -->
<div class="search-header">
  <h2><mat-icon>search</mat-icon> Search Results</h2>
  <p *ngIf="searchQuery">Showing results for "<strong>{{ searchQuery }}</strong>"</p>
</div>

<!-- Loading State -->
<div class="loading" *ngIf="isLoading">
  <mat-spinner diameter="40"></mat-spinner>
  <p>Searching...</p>
</div>

<!-- Empty State -->
<div class="empty-state" *ngIf="!isLoading && result.length === 0">
  <mat-icon>search_off</mat-icon>
  <h3>No Results Found</h3>
  <p>Try searching with different keywords</p>
</div>

<!-- Search Results -->
<div class="results-container" *ngIf="!isLoading && result.length > 0">
  <p class="results-count">{{ result.length }} post(s) found</p>

  <div class="results-grid">
    <mat-card class="post-card" *ngFor="let post of result">
      <div class="card-image">
        <img [src]="post.img" [alt]="post.name">
      </div>

      <div class="card-body">
        <div class="tags" *ngIf="post.tags?.length">
          <span class="tag" *ngFor="let tag of post.tags.slice(0, 2)">{{ tag }}</span>
        </div>

        <h3 class="card-title" [routerLink]="['/view-post', post.id]">{{ post.name }}</h3>

        <p class="card-content">
          {{ post.content.length > 100 ? post.content.substr(0, 100) + '...' : post.content }}
        </p>

        <div class="card-meta">
          <div class="author">
            <div class="avatar">{{ post.postedBy?.charAt(0)?.toUpperCase() }}</div>
            <span>{{ post.postedBy }}</span>
          </div>
          <span class="date">{{ post.date | date: 'MMM d' }}</span>
        </div>
      </div>

      <div class="card-footer">
        <div class="stats">
          <span><mat-icon>favorite</mat-icon> {{ post.likeCount || 0 }}</span>
          <span><mat-icon>visibility</mat-icon> {{ post.viewCount || 0 }}</span>
        </div>
        <button mat-stroked-button [routerLink]="['/view-post', post.id]">Read</button>
      </div>
    </mat-card>
  </div>
</div>
